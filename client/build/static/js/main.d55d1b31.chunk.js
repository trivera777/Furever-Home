(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{67:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(52),s=n.n(r),i=n(21),l=n(16),o=n(60),j=n(91),u=n(93),d=n(90),b=n(59),m=n(27),p=n(7),O=(n(67),n(2));function h(){return Object(O.jsx)("div",{className:"adopt",id:"adopt",children:Object(O.jsx)("h1",{children:"Adopt page!!"})})}var x,g,v,f,k=n(28),w=n.n(k),N=n(36),y=n(26),S=n(94),I=n(34),$=n(92),P=Object($.a)(x||(x=Object(I.a)(["\nmutation createUser($username:String!, $email:String!, $password:String!){\n    createUser(username:$username, email:$email, password: $password){\n      token\n      __typename\n      \n    }\n  }"]))),C=Object($.a)(g||(g=Object(I.a)(["\nmutation loginUser($email: String!, $password: String!){\n    loginUser(email:$email, password:$password) {\n      token\n      user{\n        username\n      }\n    }\n    \n  }"]))),_=(Object($.a)(v||(v=Object(I.a)(["\nmutation savePet($PetInput:PetInput!){\n\tsavePet(PetInput:$PetInput){\n    username\n    savedPets{\n      type\n      description\n      petId\n      image\n      link\n      name\n    }\n  }  \n}"]))),Object($.a)(f||(f=Object(I.a)(["\nmutation deletePet($petId: String!){\n    deletePet(petId: $petId) {\n      username\n      savedPets{\n        _id\n      }\n    }\n    \n  }"]))),n(53)),U=n(54),M=n(44),T=new(function(){function e(){Object(_.a)(this,e)}return Object(U.a)(e,[{key:"getProfile",value:function(){return Object(M.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(M.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),Y=function(){var e=Object(a.useState)({username:"",email:"",password:""}),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(S.a)(P),s=Object(i.a)(r,2),o=s[0],j=s[1],u=j.error,d=j.data,b=function(e){var t=e.target,a=t.name,r=t.value;c(Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},a,r)))},p=function(){var e=Object(N.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,o({variables:Object(l.a)({},n)});case 5:a=e.sent,c=a.data,T.login(c.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(O.jsx)("div",{className:"col-12 col-lg-10",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Sign Up"}),Object(O.jsxs)("div",{className:"card-body",children:[d?Object(O.jsxs)("p",{children:["Success! You may now head"," ",Object(O.jsx)(m.b,{to:"/",children:"back to the homepage."})]}):Object(O.jsxs)("form",{onSubmit:p,children:[Object(O.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"text",value:n.name,onChange:b}),Object(O.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:n.email,onChange:b}),Object(O.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:n.password,onChange:b}),Object(O.jsx)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),u&&Object(O.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:u.message})]})]})})})},D=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(S.a)(C),o=Object(i.a)(s,2),j=o[0],u=o[1],d=u.error,b=u.data,p=function(e){var t=e.target,n=t.name,a=t.value;r(Object(l.a)(Object(l.a)({},c),{},Object(y.a)({},n,a)))},h=function(){var e=Object(N.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(c),e.prev=2,e.next=5,j({variables:Object(l.a)({},c)});case 5:n=e.sent,a=n.data,T.login(a.login.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:r({email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(O.jsx)("div",{className:"col-12 col-lg-10",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Login"}),Object(O.jsxs)("div",{className:"card-body",children:[b?Object(O.jsxs)("p",{children:["Success! You may now head"," ",Object(O.jsx)(m.b,{to:"/",children:"back to the homepage."})]}):Object(O.jsxs)("form",{onSubmit:h,children:[Object(O.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:c.email,onChange:p}),Object(O.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:c.password,onChange:p}),Object(O.jsx)("button",{className:"btn btn-block btn-primary",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),d&&Object(O.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:d.message})]})]})})})};n(78);function E(e){var t=e.menuOpen,n=e.setMenuOpen;return Object(O.jsx)("div",{className:"navbar "+(t&&"active"),children:Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)("div",{className:"left",children:Object(O.jsxs)("a",{href:"#intro",className:"logo",children:["Furever Home ",Object(O.jsx)("img",{src:"./img/paw.gif",alt:"Paw"})]})}),Object(O.jsx)("div",{className:"right",children:Object(O.jsxs)("div",{className:"hamburger",onClick:function(){return n(!t)},children:[Object(O.jsx)("span",{className:"line1"}),Object(O.jsx)("span",{className:"line2"}),Object(O.jsx)("span",{className:"line3"})]})})]})})}n(79);function A(e){var t=e.menuOpen,n=e.setMenuOpen;return Object(O.jsx)("div",{className:"menu "+(t&&"active"),children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{onClick:function(){return n(!1)},children:Object(O.jsx)("a",{href:"#adopt",children:"Adopt"})}),Object(O.jsx)("li",{onClick:function(){return n(!1)},children:Object(O.jsx)("a",{href:"#login",children:"Log In"})}),Object(O.jsx)("li",{onClick:function(){return n(!1)},children:Object(O.jsx)("a",{href:"#signup",children:"Sign In"})})]})})}var B=Object(o.a)({uri:"/graphql"}),J=Object(b.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),L=new j.a({link:J.concat(B),cache:new u.a});var q=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(O.jsx)(d.a,{client:L,children:Object(O.jsxs)(m.a,{children:[Object(O.jsx)(E,{}),Object(O.jsx)(E,{menuOpen:n,setMenuOpen:c}),Object(O.jsx)(A,{menuOpen:n,setMenuOpen:c}),Object(O.jsx)(A,{}),Object(O.jsx)("div",{className:"flex-column justify-flex-start min-100-vh",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(p.a,{exact:!0,path:"/",children:Object(O.jsx)(h,{})}),Object(O.jsx)(p.a,{exact:!0,path:"/login",children:Object(O.jsx)(D,{})}),Object(O.jsx)(p.a,{exact:!0,path:"/signup",children:Object(O.jsx)(Y,{})})]})})]})})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.d55d1b31.chunk.js.map