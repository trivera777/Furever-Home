{"version":3,"sources":["components/Adopt/Adopt.js","utils/mutation.js","utils/auth.js","pages/Login.js","pages/Signup.js","components/Navbar/Navbar.js","components/Menu/Menu.js","App.js","index.js"],"names":["Adopt","className","id","CREATE_USER","gql","LOGIN_USER","decode","this","getToken","token","isTokenExpired","exp","Date","now","localStorage","removeItem","getItem","idToken","setItem","window","location","assign","reload","Login","props","useState","email","password","formState","setFormState","useMutation","login","error","handleFormSubmit","event","a","preventDefault","variables","mutationResponse","data","Auth","console","log","handleChange","target","name","value","to","onSubmit","htmlFor","placeholder","type","onChange","Signup","addUser","firstName","lastName","Navbar","menuOpen","setMenuOpen","href","src","alt","onClick","Menu","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","component","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.352a9f9d.chunk.js","sourcesContent":["import './adopt.scss'\n\nexport default function Adopt(){\n    return(\n        <div className=\"adopt\" id=\"adopt\">\n            <h1>Adopt page</h1>\n        </div>\n    )\n}","import { gql } from '@apollo/client';\n\nexport const CREATE_USER =gql`\nmutation createUser($username:String!, $email:String!, $password:String!){\n    createUser(username:$username, email:$email, password: $password){\n      token\n      __typename\n      \n    }\n  }`;\n\nexport const LOGIN_USER = gql`\nmutation loginUser($email: String!, $password: String!){\n    loginUser(email:$email, password:$password) {\n      token\n      user{\n        username\n      }\n    }\n    \n  }`;\n\nexport const SAVE_PET = gql`\nmutation savePet($PetInput:PetInput!){\n\tsavePet(PetInput:$PetInput){\n    username\n    savedPets{\n      type\n      description\n      petId\n      image\n      link\n      name\n    }\n  }  \n}`;\n\nexport const DELETE_PET = gql`\nmutation deletePet($petId: String!){\n    deletePet(petId: $petId) {\n      username\n      savedPets{\n        _id\n      }\n    }\n    \n  }`;","import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  loggedIn() {\n    const token = this.getToken();\n    return token && !this.isTokenExpired(token) ? true : false;\n  }\n\n  isTokenExpired(token) {\n    const decoded = decode(token);\n    if (decoded.exp < Date.now() / 1000) {\n      localStorage.removeItem('id_token');\n      return true;\n    }\n    return false;\n  }\n\n  getToken() {\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    localStorage.setItem('id_token', idToken);\n    window.location.assign('/');\n  }\n\n  logout() {\n    localStorage.removeItem('id_token');\n    window.location.reload();\n  }\n}\n\nexport default new AuthService();","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { LOGIN_USER } from '../utils/mutation';\nimport Auth from '../utils/auth';\n\nfunction Login(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [login, { error }] = useMutation(LOGIN_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const mutationResponse = await login({\n        variables: { email: formState.email, password: formState.password },\n      });\n      const token = mutationResponse.data.login.token;\n      Auth.login(token);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1\">\n      <Link to=\"/signup\">← Go to Signup</Link>\n\n      <h2>Login</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email address:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        {error ? (\n          <div>\n            <p className=\"error-text\">The provided credentials are incorrect</p>\n          </div>\n        ) : null}\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport Auth from '../utils/auth';\nimport { CREATE_USER } from '../utils/mutation';\n\nfunction Signup(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [addUser] = useMutation(CREATE_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    const mutationResponse = await addUser({\n      variables: {\n        email: formState.email,\n        password: formState.password,\n        firstName: formState.firstName,\n        lastName: formState.lastName,\n      },\n    });\n    const token = mutationResponse.data.addUser.token;\n    Auth.login(token);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1\">\n      <Link to=\"/login\">← Go to Login</Link>\n\n      <h2>Signup</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"firstName\">First Name:</label>\n          <input\n            placeholder=\"First\"\n            name=\"firstName\"\n            type=\"firstName\"\n            id=\"firstName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"lastName\">Last Name:</label>\n          <input\n            placeholder=\"Last\"\n            name=\"lastName\"\n            type=\"lastName\"\n            id=\"lastName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Signup;","import './navbar.scss'\n\nexport default function Navbar({ menuOpen, setMenuOpen }){\n    return (\n        <div className={\"navbar \" + (menuOpen && \"active\")}>\n           <div className=\"wrapper\">\n            <div className=\"left\">\n            <a href=\"#intro\" className=\"logo\">\n                Furever Home <img src='./img/paw.gif' alt=\"Paw\"></img>\n                </a>\n            </div>\n            <div className=\"right\">\n                <div className=\"hamburger\" onClick={()=>setMenuOpen(!menuOpen)}>\n                    <span className=\"line1\"></span>\n                    <span className=\"line2\"></span>\n                    <span className=\"line3\"></span>\n                </div>\n            </div>\n         </div>\n        </div>\n    )\n}","import './menu.scss'\n\nexport default function Menu({ menuOpen, setMenuOpen }){\n    return (\n        <div className={'menu ' + (menuOpen && 'active')}>\n            <ul>\n                <li onClick={()=>setMenuOpen(false)}>\n                    <a href=\"#adopt\">Adopt</a>\n                </li>\n                <li onClick={()=>setMenuOpen(false)}>\n                    <a href=\"#login\">Log In</a>\n                </li>\n                <li onClick={()=>setMenuOpen(false)}>\n                    <a href=\"#signup\">Sign In</a>\n                </li>\n            </ul>\n        </div>\n    )\n}","import React from \"react\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from \"@apollo/client\";\nimport { setContext } from \"@apollo/client/link/context\";\n\nimport Adopt from \"./components/Adopt/Adopt\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport Nav from \"./components/Navbar/Navbar\";\nimport Menu from \"./components/Menu/Menu\";\n\nconst httpLink = createHttpLink({\n  uri: \"/graphql\",\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem(\"id_token\");\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : \"\",\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  const [menuOpen, setMenuOpen] = useState(false);\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div>\n          <Nav menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\n          <Menu menuOpen={menuOpen} setMenuOpen={setMenuOpen} />\n          <Routes>\n            <Route component={Adopt} path=\"/\" exact  />\n            <Route component={Login} path=\"/login\"  />\n            <Route component={Signup}path=\"/signup\"  />\n          </Routes>\n        </div>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}