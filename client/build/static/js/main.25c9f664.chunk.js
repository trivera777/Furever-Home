(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{59:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),s=n(46),r=n.n(s),i=n(9),l=n(17),o=n(23),j=n(4),d=n(52),b=n(76),m=n(78),u=n(75),p=n(51),O=(n(59),n(2));function h(){return Object(O.jsx)("div",{className:"adopt",id:"adopt",children:Object(O.jsx)("h1",{children:"Adopt page!!"})})}var x,v,f,g,w=n(22),N=n(24),k=n.n(N),y=n(31),S=n(79),I=n(29),P=n(77),$=Object(P.a)(x||(x=Object(I.a)(["\nmutation createUser($username:String!, $email:String!, $password:String!){\n    createUser(username:$username, email:$email, password: $password){\n      token\n      __typename\n      \n    }\n  }"]))),C=Object(P.a)(v||(v=Object(I.a)(["\nmutation loginUser($email: String!, $password: String!){\n    loginUser(email:$email, password:$password) {\n      token\n      user{\n        username\n      }\n    }\n    \n  }"]))),F=(Object(P.a)(f||(f=Object(I.a)(["\nmutation savePet($PetInput:PetInput!){\n\tsavePet(PetInput:$PetInput){\n    username\n    savedPets{\n      type\n      description\n      petId\n      image\n      link\n      name\n    }\n  }  \n}"]))),Object(P.a)(g||(g=Object(I.a)(["\nmutation deletePet($petId: String!){\n    deletePet(petId: $petId) {\n      username\n      savedPets{\n        _id\n      }\n    }\n    \n  }"]))),n(47)),_=n(48),T=n(38),E=new(function(){function e(){Object(F.a)(this,e)}return Object(_.a)(e,[{key:"getProfile",value:function(){return Object(T.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(T.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}());var L=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(S.a)(C),j=Object(i.a)(r,2),d=j[0],b=j[1].error,m=function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d({variables:{email:c.email,password:c.password}});case 4:n=e.sent,a=n.data.login.token,E.login(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){var t=e.target,n=t.name,a=t.value;s(Object(l.a)(Object(l.a)({},c),{},Object(w.a)({},n,a)))};return Object(O.jsxs)("div",{className:"container my-1",children:[Object(O.jsx)(o.b,{to:"/signup",children:"Go to Signup"}),Object(O.jsx)("h2",{children:"Login"}),Object(O.jsxs)("form",{onSubmit:m,children:[Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(O.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:u})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(O.jsx)("input",{placeholder:"************",name:"password",type:"password",id:"pwd",onChange:u})]}),b?Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"error-text",children:"The provided credentials are incorrect"})}):null,Object(O.jsx)("div",{className:"flex-row flex-end",children:Object(O.jsx)("button",{type:"submit",children:"Submit"})})]})]})};var M=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(S.a)($),j=Object(i.a)(r,1)[0],d=function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName}});case 3:n=e.sent,a=n.data.addUser.token,E.login(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,a=t.value;s(Object(l.a)(Object(l.a)({},c),{},Object(w.a)({},n,a)))};return Object(O.jsxs)("div",{className:"container my-1",children:[Object(O.jsx)(o.b,{to:"/login",children:"Go to Login"}),Object(O.jsx)("h2",{children:"Signup"}),Object(O.jsxs)("form",{onSubmit:d,children:[Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(O.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:b})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(O.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:b})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(O.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:b})]}),Object(O.jsxs)("div",{className:"flex-row space-between my-2",children:[Object(O.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(O.jsx)("input",{placeholder:"************",name:"password",type:"password",id:"pwd",onChange:b})]}),Object(O.jsx)("div",{className:"flex-row flex-end",children:Object(O.jsx)("button",{type:"submit",children:"Submit"})})]})]})};n(63);function U(e){var t=e.menuOpen,n=e.setMenuOpen;return Object(O.jsx)("div",{className:"navbar "+(t&&"active"),children:Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)("div",{className:"left",children:Object(O.jsxs)("a",{href:"#intro",className:"logo",children:["Furever Home ",Object(O.jsx)("img",{src:"./img/paw.gif",alt:"Paw"})]})}),Object(O.jsx)("div",{className:"right",children:Object(O.jsxs)("div",{className:"hamburger",onClick:function(){return n(!t)},children:[Object(O.jsx)("span",{className:"line1"}),Object(O.jsx)("span",{className:"line2"}),Object(O.jsx)("span",{className:"line3"})]})})]})})}n(64);function D(e){var t=e.menuOpen,n=e.setMenuOpen;return Object(O.jsx)("div",{className:"menu "+(t&&"active"),children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{onClick:function(){return n(!1)},children:Object(O.jsx)("a",{href:"#adopt",children:"Adopt"})}),Object(O.jsx)("li",{onClick:function(){return n(!1)},children:Object(O.jsx)("a",{href:"#login",children:"Log In"})}),Object(O.jsx)("li",{onClick:function(){return n(!1)},children:Object(O.jsx)("a",{href:"#signup",children:"Sign In"})})]})})}var A=Object(d.a)({uri:"/graphql"}),B=Object(p.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(l.a)(Object(l.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),G=new b.a({link:B.concat(A),cache:new m.a});var J=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(O.jsx)(u.a,{client:G,children:Object(O.jsx)("div",{children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(U,{menuOpen:n,setMenuOpen:c}),Object(O.jsx)(D,{menuOpen:n,setMenuOpen:c}),Object(O.jsx)(L,{}),Object(O.jsx)(M,{}),Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:"/",component:h}),Object(O.jsx)(j.a,{exact:!0,path:"/login",component:L}),Object(O.jsx)(j.a,{exact:!0,path:"/signup",component:M})]})]})})})};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(J,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.25c9f664.chunk.js.map